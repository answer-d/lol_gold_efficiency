■ あんでぃー環境
# python --version
Python 3.6.4
# python -c "import django; print(django.get_version())"
2.0.3


■ 環境準備方法(ローカル)
# 仮想環境構築
python -m venv <仮想環境パス>
<仮想環境パス>/Scripts/activate

# モジュールインストール(django-bootstrap4はいずれ使う予定)
pip install django
pip install riotwatcher
pip install tqdm
pip install django-heroku

# DB作成(db.sqlite3が作成される)
python manage.py makemigrations
python manage.py migrate

# admin画面用ユーザ作成
python manage.py createsuperuser

# アイテムデータインポート(ローカルのjsonから)
python manage.py updateitems 8.6.1 -f ./gold_efficiency/static/gold_efficiency/json/items_ver.8.6.1_na1.json

# サーバ起動
python manage.py runserver

# http://127.0.0.1:8000/ にアクセス！
# DBの中身見たかったらadmin画面で。http://127.0.0.1:8000/admin/


■ 環境準備方法(heroku private)  ※ Heroku CLIはインストールしておいてね
# Herokuログイン
heroku login

# アプリケーション作成(初回のみ)
heroku create <app name>

# アプリケーションの名前変更(オプショナル)
heroku rename <new app name>  [--app <app name>]

# 既存のアプリケーションをリモートリポジトリにする(アプリケーション切替はこれで実施)
heroku git:remote -a <app name>

# コミット作成(変更したら)
git add .
git commit -m "Herokuで動くようにした"

# buildpackの設定(いらない)
#heroku buildpacks:set heroku/python

# Herokuにpush
git push heroku master
# ブランチをpushする場合はこっち
git push heroku <branch name>:master

# Postgres Add-on追加
heroku addons:create heroku-postgresql:hobby-dev

# Herokuでマイグレーション
heroku run python manage.py migrate

# アイテムデータインポート(ローカルのjsonから)
heroku run python manage.py updateitems 8.6.1 -f ./gold_efficiency/static/gold_efficiency/json/items_ver.8.6.1_na1.json

# dyno指定(いらないかも)
heroku ps:scale web=1

# 動作確認
heroku open
